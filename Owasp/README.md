# OWASP ZAP â€“ Complete Installation & CI/CD Integration Guide

This README provides a **complete, step-by-step guide** to install **OWASP ZAP**, configure it, and integrate it with **Jenkins and GitHub Actions** for DevSecOps pipelines.

---

## What is OWASP ZAP?

OWASP ZAP (Zed Attack Proxy) is an **open-source DAST (Dynamic Application Security Testing)** tool used to find security vulnerabilities in **running web applications**.

---

## Why Use OWASP ZAP in DevOps?

* Detects runtime security issues
* Covers OWASP Top 10 vulnerabilities
* Automates security testing
* Prevents insecure production releases

---

## Where OWASP ZAP Fits in CI/CD

* After application is deployed to test/staging
* Before production deployment

---

## Installation Methods

### Option 1: Install OWASP ZAP using Docker (Recommended)

```bash
docker pull owasp/zap2docker-stable
```

Run ZAP baseline scan:

```bash
docker run -t owasp/zap2docker-stable zap-baseline.py \
  -t http://localhost:8080
```

---

### Option 2: Install OWASP ZAP on Linux

```bash
sudo apt update
sudo apt install zaproxy -y
```

Verify:

```bash
zap.sh --version
```

---

## Types of ZAP Scans

| Scan Type     | Description               |
| ------------- | ------------------------- |
| Baseline Scan | Passive scan, safe for CI |
| Full Scan     | Active attack scan        |
| API Scan      | OpenAPI / Swagger testing |

---

## OWASP ZAP Baseline Scan Example

```bash
docker run -t owasp/zap2docker-stable zap-baseline.py \
  -t http://myapp:8080 \
  -r zap-report.html
```

---

## Jenkins Integration

### Jenkins Plugins Required

* Docker Pipeline
* Git

### Jenkins Pipeline Example

```groovy
stage('OWASP ZAP Scan') {
  steps {
    sh '''
    docker run -t owasp/zap2docker-stable zap-baseline.py \
      -t http://myapp:8080 \
      -r zap-report.html || true
    '''
  }
}
```

> `|| true` prevents pipeline failure during testing phase.

---

## GitHub Actions Integration

### .github/workflows/zap.yml

```yaml
name: OWASP ZAP Scan
on: [push]

jobs:
  zap_scan:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout Code
        uses: actions/checkout@v4

      - name: Run OWASP ZAP Baseline Scan
        uses: zaproxy/action-baseline@v0.10.0
        with:
          target: 'http://localhost:8080'
```

---

## Generate & Store Reports

### HTML Report

* Automatically generated by ZAP
* Example: `zap-report.html`

### Archive Report in Jenkins

```groovy
post {
  always {
    archiveArtifacts artifacts: 'zap-report.html'
  }
}
```

---

## How to Fail Pipeline on High Risk Issues

```bash
zap-baseline.py -t http://myapp:8080 -I
```

* `-I` â†’ Ignore warnings
* Use rules to fail on HIGH severity

---

## Common Issues & Fixes

| Issue             | Solution                |
| ----------------- | ----------------------- |
| App not reachable | Use correct service URL |
| Pipeline slow     | Use baseline scan       |
| False positives   | Tune ZAP rules          |

---

## OWASP ZAP vs Other Tools

| Tool      | Type                    |
| --------- | ----------------------- |
| SonarQube | SAST                    |
| Trivy     | Image / Dependency Scan |
| ZAP       | DAST                    |

---

## Real DevSecOps Flow

1. Code Scan â€“ SonarQube
2. Image Scan â€“ Trivy
3. Runtime Scan â€“ OWASP ZAP
4. Deploy to Production

---

## Interview One-Liner

> OWASP ZAP is a DAST tool integrated into CI/CD pipelines to detect runtime vulnerabilities before production.

---

## Author

Prepared for DevSecOps engineers & interview preparation ðŸš€
